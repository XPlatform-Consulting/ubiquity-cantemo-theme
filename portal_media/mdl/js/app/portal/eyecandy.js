!function(utils,$){utils.Retina={init:function(){var pixelRatio=window.devicePixelRatio?window.devicePixelRatio:1;pixelRatio>1&&$("img").each(function(idx,el){el=$(el),el.attr("data-src2x")&&(el.attr("data-src-orig",el.attr("src")),el.attr("src",el.attr("data-src2x")))})}}}(cntmo.utils=cntmo.utils||{},jQuery),$("document").ready(function(){$.subscribe("/cntmo/prtl/MediaBin/finishedAdding",function(){var canvasEl,ctx,strokeWidth=8,size=1,opacity=1;if(0===cntmo.app.page.mediaBinItems.view.$el.height()&&(canvasEl=document.createElement("canvas"),canvasEl.getContext)){ctx=canvasEl.getContext("2d"),$(canvasEl).attr("width",100).attr("height",100).attr("id","test_can").css("position","absolute").css("top","-25px").css("left","-25px"),$(canvasEl).prependTo("#mediabin-tab-show .ntfwrap"),ctx.beginPath(),ctx.arc(35,30,5,0,2*Math.PI,!0),ctx.strokeStyle="rgba(65, 131, 196, 0.5)",ctx.stroke(),onTimer=function(ctx){ctx.clearRect(0,0,100,100),ctx.arc(35,30,5+size,0,2*Math.PI,!0),opacity-=.1,style="rgba(65, 131, 196, "+opacity.toPrecision(1)+")",ctx.lineWidth=strokeWidth,ctx.strokeStyle=style,ctx.stroke(),strokeWidth+=1,size+=1,20==strokeWidth&&($("#test_can").remove(),clearInterval(timer))};var timer=setInterval(onTimer,40,ctx)}}),window.flashElement=function(el){var ctx,strokeWidth=1,size=1;$el=$(el),onTimer=function(){$el.css("box-shadow","0px 0px "+size+"px "+size+"px rgba(255, 0, 0, 0.5)"),strokeWidth>3?strokeWidth%3===0&&(size+=1):size+=1,strokeWidth+=1,9==strokeWidth&&($el.css("box-shadow","initial"),clearInterval(timer))};var timer=setInterval(onTimer,40,ctx)}});